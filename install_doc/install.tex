\documentclass[a4paper,10pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[english]{babel}

\usepackage{a4wide}
\usepackage{palatino}

\usepackage[pdftitle={Installing NiHU},%
  pdfauthor={P\'eter Fiala, P\'eter Rucz},% 
  colorlinks=true,% 
  urlcolor=blue,% 
  linkcolor=blue,% 
  citecolor=blue,% 
  filecolor=green,% 
  raiselinks=false,% 
  hyperfootnotes=true]{hyperref}

\title{Installing \texttt{NiHu}}
\author{Péter Fiala, Péter Rucz}

\begin{document}

\maketitle

\section{Getting started}

\subsection{Dependence on thirdparty packages}

\texttt{NiHu} depends on the following packages

\begin{enumerate}
	\item \texttt{Eigen}, an open source lightweight matrix library \href{http://eigen.tuxfamily.org}{\texttt{Eigen}}. The installation of Eigen's header files is done automatically during the install process as needed.
\end{enumerate}

The optional compilation of the \texttt{Matlab} interface depends on

\begin{enumerate}
	\item \texttt{Matlab}
	\item \texttt{Mex}
\end{enumerate}

\subsection{Installing prerequisites}

Compilation of \texttt{NiHu} requires a compiler that supports some features of the C++11 standard. The GNU C and C++ compilers (gcc and g++) support the needed features from version number 4.7.

The installation of \texttt{NiHu} is done most easily using \href{http://cmake.org}{\texttt{cmake}}. 

In the following the installation of these prerequisites is explained depending on your operating system.

\paragraph{Unix systems}

The examples given below are fpr \texttt{Ubuntu Linux}, however

\begin{itemize}
\item Installation of \texttt{gcc-4.7} and \texttt{g++-4.7}
	\begin{verbatim}
	sudo add-apt-repository ppa:ubuntu-toolchain-r/test
	sudo apt-get update
	sudo apt-get install gcc-4.7
	\end{verbatim}

	Usage of different versions can be achieved by the \texttt{alternatives} mechanism

	\begin{verbatim}
	sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.6 60 
		--slave /usr/bin/g++ g++ /usr/bin/g++-4.6 
	sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.7 40 
		--slave /usr/bin/g++ g++ /usr/bin/g++-4.7 
	sudo update-alternatives --config gcc
	\end{verbatim}

\item Installation of \texttt{cmake}
	\begin{verbatim}
	sudo apt-get install cmake
	\end{verbatim}
\end{itemize}

\paragraph{Windows systems}

\begin{description}
	\item [Installation of \texttt{gcc-4.7} and \texttt{g++-4.7}]
	
	On windows systems the easiest ways of using the \texttt{GNU} compiler is to use \texttt{MinGW}.
	MinGW can be downloaded, one release supported by \texttt{NiHu} is \href{http://tdm-gcc.tdragon.net/download}{TDM-GCC}. Both the \href{http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC\%20Installer/tdm-gcc-4.7.1-2.exe/download}{32-bit version} and \href{http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC\%20Installer/tdm64-gcc-4.7.1-3.exe/download}{64-bit version} are available for download.
	
	Once \texttt{TDM-GCC} is downloaded, you can install it into any directory of your preference. The recommendation is to use a directory path without special characters (e.g.\ spaces).

	\item [Installation of \texttt{cmake}]

	The binary version for Windows systems of \texttt{cmake} can be downloaded from the \href{http://www.cmake.org/files/v2.8/cmake-2.8.11.2-win32-x86.exe}{cmake website}.

	After download, \texttt{cmake} can readily be installed. It is recommended to add the path of the \texttt{cmake} executable to the system path. This is automatically done by the installer if selected.

	\item [Command prompt]

	On windows systems it is advised to use the command prompt of the \texttt{MinGW} system for the rest of the installation process.

\end{description}

\section{Installation using \texttt{cmake}}

\texttt{NiHu} is installed using \texttt{cmake} from the command prompt.

\paragraph{Unix systems}

\begin{verbatim}
cmake <source_dir>
\end{verbatim}

\paragraph{Windows systems}

\begin{verbatim}
cmake <source_dir> -G "MinGW Makefiles"
\end{verbatim}


\subsection{Extra options}

When using \texttt{cmake} extra options for compiling \texttt{NiHu} can be passed by using the \texttt{-D}.

Syntax:

\texttt{-D\itshape{<variable>}=\itshape{value}}

Examples:

\begin{verbatim}
cmake ../src -DNIHU_EXAMPLE_VAR=1
cmake ../src -DNIHU_EXAMPLE_PATH="/home/user"
\end{verbatim}

\subsubsection{Matlab options}

\begin{description}
	\item [\texttt{NIHU\_MATLAB\_ROOT}] Specifies where the installation will look for \texttt{Matlab} and its include directories
	\item [\texttt{NIHU\_FORCE\_MEX\_COMPILER}] When set to non-zero, the compilation of mex files is done using the mex compiler of \texttt{Matlab}.
\end{description}

\subsubsection{Eigen options}

\begin{description}
	\item [\texttt{NIHU\_EIGEN\_INSTALL}] Forces the installation of \texttt{Eigen}.
	\item [\texttt{NIHU\_EIGEN\_DISABLE\_PATCH}] When set to non-zero patching \texttt{Eigen} headers is disabled.
	\item [\texttt{NIHU\_EIGEN\_AS\_PROJECT}] When set to non-zero, the installation process will install \texttt{Eigen} as an additional \texttt{cmake} project. This option only works on Unix system, due to the limitations of Eigen's cmake project.
	\item [\texttt{NIHU\_EIGEN\_HEADERS\_DIR}] later
	\item [\texttt{NIHU\_EIGEN\_INSTALL\_DIR}] later
\end{description}

\subsubsection{Testing options}

\begin{description}
	\item [\texttt{NIHU\_DISABLE\_TESTS}] When set to non-zero tests are excluded from the \texttt{make all} process. In this case tests can be compiled using separate make commands.
	\item [\texttt{NIHU\_ENABLE\_RUN\_MATLAB\_TESTS}] When set to non-zero tests run from \texttt{Matlab} are included into all tests. Otherwise \texttt{Matlab} tests have to be run separately.
\end{description}

\subsection{Documentation options}

\begin{description}
	\item [\texttt{NIHU\_MATHJAX\_PATH}] 
\end{description}

\end{document}
